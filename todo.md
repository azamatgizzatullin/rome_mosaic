# План работ по проекту генерации римской мозаики

- [x] **Шаг 1: Уточнение исходных данных и требований.** Полностью понять все детали технического задания и ожидания от конечного результата.
- [x] **Шаг 2: Подбор референсов римских мозаик.** Собрать коллекцию изображений настоящих римских мозаик для анализа стиля, техник укладки и характерных особенностей.
- [x] **Шаг 3: Анализ стилей и структуры мозаик.** Изучить собранные референсы для выявления закономерностей в формах тессер, их расположении, цветовых переходах и общей композиции.
- [x] **Шаг 4: Выбор основного алгоритмического подхода.** На основе анализа и требований определить наиболее подходящую общую стратегию для генерации мозаики.
- [x] **Шаг 5: Поиск и сравнение методов выделения контуров.** Исследовать различные алгоритмы (например, Canny, watershed, методы на основе глубокого обучения для сегментации/детекции объектов) для определения наилучшего способа выделения контуров цветовых зон или объектов.
- [x] **Шаг 6: Реализация квантования цвета и выделения цветовых зон.** Разработать и реализовать модуль для уменьшения количества цветов в исходном изображении и последующего формирования четких цветовых областей.
- [x] **Шаг 7: Реализация слияния малых и тонких цветовых зон с соседями.** Разработать и реализовать алгоритм, который идентифицирует слишком маленькие или тонкие цветовые зоны и объединяет их с наиболее подходящими соседними более крупными зонами, чтобы избежать появления пустых областей и обеспечить сплошное покрытие.
- [x] **Шаг 8: Реализация сглаживания контуров и морфологической обработки без потери заливки.** После слияния зон, применить сглаживание к контурам объединенных регионов. Морфологическая обработка должна быть направлена на улучшение формы контуров, не создавая при этом новых пустот.
- [x] **Шаг 9: Реализация фильтрации тонких линий без образования пустот.** Убедиться, что после всех обработок не остается линий или элементов, которые тоньше минимально допустимого размера тессеры, при этом все пространство должно быть заполнено цветом.
- [ ] **Шаг 10: Реализация пакетной обработки новых изображений с демонстрацией промежуточных результатов.** Обеспечить возможность обработки новых изображений по всему обновленному пайплайну с выводом промежуточных результатов для контроля и обратной связи.
- [x] **Шаг 11: Разработка метода укладки тессер по контрасту и контурам.** Создать логику размещения тессер таким образом, чтобы они следовали контурам цветовых зон и учитывали контрастность цветов, как указано в ТЗ.
- [ ] **Шаг 12: Реализация алгоритма выбора и ориентации фигур по площади.** Разработать механизм, который будет выбирать подходящие типы тессер (прямоугольники, треугольники, квадраты, трапеции) и их ориентацию для максимального заполнения области внутри контуров.
- [ ] **Шаг 13: Устранение артефактов и выравнивание тессер.** Реализовать процедуры для коррекции возможных проблем, таких как слишком большие зазоры между тессерами или их некорректное расположение.
- [ ] **Шаг 14: Реализация объединения мелких фигур в более крупные.** Разработать логику для объединения соседних мелких тессер в более крупные, где это целесообразно и не нарушает общую стилистику и требования ТЗ.
- [ ] **Шаг 15: Проверка соответствия ТЗ и валидация результата.** Тщательно проверить сгенерированную мозаику на соответствие всем пунктам технического задания.
- [ ] **Шаг 16: Подготовка интерфейса для визуализации и обратной связи.** Создать возможность для пользователя видеть промежуточные и финальные результаты, а также предоставлять обратную связь для корректировки процесса.
- [ ] **Шаг 17: Сборка финального результата и подготовка к экспорту в вектор.** Финализировать изображение мозаики и подготовить данные для возможности экспорта тессер в векторный формат.
- [ ] **Шаг 18: Предоставление промежуточных и финальных результатов пользователю.** Поделиться с пользователем результатами работы на различных этапах и финальным продуктом.

